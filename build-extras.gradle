android {
    dexOptions {
        javaMaxHeapSize "2560M"
    }
}

allprojects {
    // Set BUILD_DIR env if you're getting crunching errors https://stackoverflow.com/questions/41267005/failed-to-crunch-file-android-studio-appmergedebugresources
    if($System.env.BUILD_DIR) {
        buildDir = "$System.env.BUILD_DIR/${rootProject.name}/${project.name}"
    }
}

// Fixes https://github.com/arnesson/cordova-plugin-firebase/issues/610
configurations.all {
   resolutionStrategy {

       force "com.google.android.gms:play-services-auth:11.8.0"
       force "com.google.android.gms:play-services-identity:11.8.0"

       force "com.google.android.gms:play-services-ads:11.8.0"
       force "com.google.android.gms:play-services-base:11.8.0"
       force "com.google.android.gms:play-services-gcm:11.8.0"
       force "com.google.android.gms:play-services-analytics:11.8.0"
       force "com.google.android.gms:play-services-location:11.8.0"
       force "com.google.android.gms:play-services-basement:11.8.0"
       force "com.google.android.gms:play-services-tagmanager:11.8.0"
       force 'com.google.firebase:firebase-core:11.8.0'
       force 'com.google.firebase:firebase-crash:11.8.0'
       force 'com.google.firebase:firebase-auth:11.8.0'
       force 'com.google.firebase:firebase-common:11.8.0'
       force 'com.google.firebase:firebase-config:11.8.0'
       force 'com.google.firebase:firebase-messaging:11.8.0'
   }
}
