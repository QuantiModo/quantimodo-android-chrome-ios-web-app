<ion-view hide-nav-bar="hideNavigationMenu">
    <ion-nav-title>Get Started</ion-nav-title>
    <div ng-if="!state.registrationForm && !state.loginForm" class="outer" style=" background-color: {{circlePage.color.backgroundColor}};">
        <div class="middle">
            <div class="inner">
                <div style="text-align: center; color: white; padding: 30px; height: 100%" >
                    <div>
                        <div ng-include="'templates/fragments/circle-page.html'" on-hold="state.setAuthDebugEnabled()" ng-cloak></div>
                        <div ng-if="state.showRetry" ng-click="retryLogin('user clicked retry button')" ><br><br>Click here to retry if this takes too long</div>
                        <div id="loginButtons" ng-if="circlePage.title !== 'Logging in...'">
                            <div id="material-login-buttons" ng-if="true">
                                <!--<md-button class="md-raised md-primary icon icon-left ion-social-github" style="background: #2d2d2d;" ng-click="state.socialLogin('github', $event)">
                                    &nbsp Github Login &nbsp
                                </md-button>-->
                                <md-button id="signInWithGoogle" class="md-raised md-primary icon icon-left ion-social-google"
                                           style="background: #d34836;" ng-click="state.socialLogin('googleplus', $event)">
                                    &nbsp Google Login &nbsp
                                </md-button>
                                <md-button id="signInWithFacebook" class="md-raised md-primary icon icon-left ion-social-facebook"
                                           style="background: #3B5998;" ng-click="state.socialLogin('facebook', $event)">
                                    &nbsp Facebook Login &nbsp
                                </md-button>
                                <md-button id="signUpButton" class="md-raised md-primary icon icon-left ion-email"
                                           style="background: #2d2d2d;" ng-click="state.registrationForm = {}">
                                    &nbsp Email Sign Up &nbsp
                                </md-button>
                                <md-button id="signInButton" class="md-raised md-primary icon icon-left ion-email" style="background: #2d2d2d;"
                                           ng-click="state.loginForm = {}">
                                    &nbsp Email Login &nbsp
                                </md-button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="registrationForm" ng-if="state.registrationForm" class="container">
        <div id="signup">
            <div class="signup-screen">
                <div class="space-bot text-center"><h1>Sign up</h1><div class="divider"></div></div>
                <form class="form-register" method="post" name="register" novalidate>
                    <div class="input-field col s6">
                        <input id="first-name" type="text" class="validate" ng-model="state.registrationForm.firstName" required>
                        <label for="first-name">First Name</label>
                    </div>
                    <div class="input-field col s6">
                        <input id="last-name" type="text" class="validate" ng-model="state.registrationForm.lastName" required>
                        <label for="last-name">Last Name</label>
                    </div>
                    <div class="input-field col s6">
                        <input id="email" type="email" name="email" ng-model="state.registrationForm.email" class="validate" required>
                        <label for="email">Email</label>
                    </div>
                    <p class="alert alert-danger" ng-show="form-register.email.$error.email">Your email is invalid.</p>
                    <div class="input-field col s6">
                        <input id="password" type="password" name="password" ng-model="state.registrationForm.password" ng-minlength='6' class="validate" required>
                        <label for="password">Password</label>
                    </div>
                    <p class="alert alert-danger" ng-show="form-register.password.$error.minlength || form.password.$invalid">Your password must be at least 6 characters.</p>
                    <div class="space-top text-center">
                        <button ng-disabled="form-register.$invalid" class="waves-effect waves-light btn done" ng-click="state.tryToGetUser(true)">
                            <i class="material-icons left">done</i> Done
                        </button>
                        <button type="button" class="waves-effect waves-light btn cancel" ng-click="state.registrationForm = false">
                            <i class="material-icons left">clear</i>Cancel
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div id="loginForm" ng-if="state.loginForm" class="container">
        <div id="signin">
            <div class="signin-screen">
                <div class="space-bot text-center"><h1>Sign up</h1><div class="divider"></div></div>
                <form class="form-login" method="post" name="login" novalidate>
                    <div class="input-field col s6">
                        <input id="login-email" type="email" name="email" ng-model="state.loginForm.email" class="validate" required>
                        <label for="email">Email</label>
                    </div>
                    <p class="alert alert-danger" ng-show="form-login.email.$error.email">Your email is invalid.</p>
                    <div class="input-field col s6">
                        <input id="login-password" type="password" name="password" ng-model="state.loginForm.password" ng-minlength='6' class="validate" required>
                        <label for="password">Password</label>
                    </div>
                    <p class="alert alert-danger" ng-show="form-login.password.$error.minlength || form.password.$invalid">Your password must be at least 6 characters.</p>
                    <div class="space-top text-center">
                        <button ng-disabled="form-login.$invalid" class="waves-effect waves-light btn done" ng-click="state.tryToGetUser(true)">
                            <i class="material-icons left">done</i> Done
                        </button>
                        <button type="button" class="waves-effect waves-light btn cancel" ng-click="state.loginForm = false">
                            <i class="material-icons left">clear</i>Cancel
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</ion-view>
