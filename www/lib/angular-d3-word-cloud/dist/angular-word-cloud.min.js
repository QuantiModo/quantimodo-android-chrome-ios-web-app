!function(){"use strict";function t(){function t(t,n){function e(t){var e=d3.select(n[0]),r=c.size()[0],o=c.size()[1];e.select("svg").remove(),e.append("svg").attr("width",r).attr("height",o).append("g").attr("transform","translate("+r/2+","+o/2+")").selectAll("text").data(t).enter().append("text").on("click",function(t){a.onClick&&a.onClick(t)}).on("mouseover",function(){d3.select(this).transition().style("font-size",function(t){return 1.2*t.size+"px"}).attr("opacity",.5)}).on("mouseout",function(){d3.select(this).transition().style("font-size",function(t){return t.size+"px"}).attr("opacity",1)}).style("font-size",function(t){return t.size+"px"}).style("font-family","Impact").style("fill",function(t,n){return t.color||s(n)}).attr("text-anchor","middle").attr("cursor","pointer").transition().attr("transform",function(t){return"translate("+[t.x,t.y]+")rotate("+t.rotate+")"}).text(function(t){return t.text})}function r(t,n,e,r){r=r||5,c.size([t,n]).padding(r).words(e),c.start()}function o(){return a}function i(t){var n=angular.copy(t);angular.isUndefined(n.words)||angular.isUndefined(n.width)||angular.isUndefined(n.height)||r(n.width,n.height,n.words,n.padding)}var a=this,s=d3.hasOwnProperty("scale")?d3.scale.category20():d3.scaleOrdinal(d3.schemeCategory20),c=d3.layout.cloud().rotate(function(){return 60*~~(2*Math.random())}).fontSize(function(t){return t.size}).on("end",e);t.$watch(o,i,!0)}return{restrict:"E",scope:{padding:"=?",words:"=",width:"=",height:"=",onClick:"="},template:"<div></div>",controller:["$scope","$element",t],controllerAs:"wordsCloudCtrl",bindToController:!0}}angular.module("angular-d3-word-cloud",[]).directive("wordCloud",[t])}();