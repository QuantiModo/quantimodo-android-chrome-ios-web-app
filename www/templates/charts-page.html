<ion-view hide-nav-bar="hideNavigationMenu" view-title="Charts">
    <ion-nav-title>{{state.title}}</ion-nav-title>
    <ion-content scroll="{ isBrowserView : isWeb == false }" ng-class="{ isBrowserView : isWeb == true }">
        <ion-refresher on-refresh="refreshCharts()"></ion-refresher>
        <div ng-cloak>
            <div class="card" ng-show="state.loadingHistory || state.loadingDailyHistory">
                <div class="item" >
                    <div class="row"> <ion-spinner></ion-spinner> <p style=" text-align: center; line-height: normal; font-size: 18px;">&nbsp &nbsp Fetching measurements...</p> </div>
                </div>
            </div>
            <div ng-if="variableObject.charts.lineChartWithoutSmoothing.highchartConfig" class="card primary-outcome-variable-reporting-chart">
                <div class="item item-text-wrap">
                    <h2 style="text-align: center">{{variableObject.charts.lineChartWithoutSmoothing.chartTitle}}</h2>
                    <highchart id="{{variableObject.charts.lineChartWithoutSmoothing.chartId}}" config="variableObject.charts.lineChartWithoutSmoothing.highchartConfig"></highchart>
                    <p ng-if="variableObject.charts.lineChartWithoutSmoothing.explanation" style="text-align: center">{{variableObject.charts.lineChartWithoutSmoothing.explanation}}</p>
                </div>
            </div>
            <div ng-if="variableObject.charts.lineChartWithSmoothing.highchartConfig" class="card primary-outcome-variable-reporting-chart">
                <div class="item item-text-wrap">
                    <h2 style="text-align: center">{{variableObject.charts.lineChartWithSmoothing.chartTitle}}</h2>
                    <highchart id="{{variableObject.charts.lineChartWithSmoothing.chartId}}" config="variableObject.charts.lineChartWithSmoothing.highchartConfig"></highchart>
                    <p ng-if="variableObject.charts.lineChartWithSmoothing.explanation" style="text-align: center">{{variableObject.charts.lineChartWithSmoothing.explanation}}</p>
                </div>
            </div>
            <div ng-if="variableObject.charts.hourlyColumnChart.highchartConfig" class="card primary-outcome-variable-reporting-chart">
                <div class="item item-text-wrap">
                    <h2 style="text-align: center">{{variableObject.charts.hourlyColumnChart.chartTitle}}</h2>
                    <highchart id="{{variableObject.charts.hourlyColumnChart.chartId}}" config="variableObject.charts.hourlyColumnChart.highchartConfig"></highchart>
                    <p ng-if="variableObject.charts.hourlyColumnChart.explanation" style="text-align: center">{{variableObject.charts.hourlyColumnChart.explanation}}</p>
                </div>
            </div>
            <div ng-if="variableObject.charts.weekdayColumnChart.highchartConfig" class="card primary-outcome-variable-reporting-chart">
                <div class="item item-text-wrap">
                    <h2 style="text-align: center">{{variableObject.charts.weekdayColumnChart.chartTitle}}</h2>
                    <highchart id="{{variableObject.charts.weekdayColumnChart.chartId}}" config="variableObject.charts.weekdayColumnChart.highchartConfig"></highchart>
                    <p ng-if="variableObject.charts.weekdayColumnChart.explanation" style="text-align: center">{{variableObject.charts.weekdayColumnChart.explanation}}</p>
                </div>
            </div>
            <div ng-if="variableObject.charts.monthlyColumnChart.highchartConfig" class="card primary-outcome-variable-reporting-chart">
                <div class="item item-text-wrap">
                    <h2 style="text-align: center">{{variableObject.charts.monthlyColumnChart.chartTitle}}</h2>
                    <highchart id="{{variableObject.charts.monthlyColumnChart.chartId}}" config="variableObject.charts.monthlyColumnChart.highchartConfig"></highchart>
                    <p ng-if="variableObject.charts.monthlyColumnChart.explanation" style="text-align: center">{{variableObject.charts.monthlyColumnChart.explanation}}</p>
                </div>
            </div>
            <div ng-if="variableObject.charts.distributionColumnChart.highchartConfig" class="card primary-outcome-variable-reporting-chart">
                <div class="item item-text-wrap">
                    <h2 style="text-align: center">{{variableObject.charts.distributionColumnChart.chartTitle}}</h2>
                    <highchart id="{{variableObject.charts.distributionColumnChart.chartId}}" config="variableObject.charts.distributionColumnChart.highchartConfig"></highchart>
                    <p ng-if="variableObject.charts.distributionColumnChart.explanation" style="text-align: center">{{variableObject.charts.distributionColumnChart.explanation}}</p>
                </div>
            </div>
            <div ng-if="variableObject" ng-include="'templates/fragments/variable-sharing-fragment.html'"></div>
            <div class="card list" id="statisticsCard" ng-if="variableObject.numberOfRawMeasurements">
                <label class="item item-content" ng-if="variableObject.numberOfRawMeasurements">
                    <span class="input-label left-text"># of measurements</span>
                    <span class="input-label right-text">{{variableObject.numberOfRawMeasurements}}</span>
                </label>
                <label class="item item-content" ng-if="variableObject.numberOfCorrelations">
                    <span class="input-label left-text"># of correlations</span>
                    <span class="input-label right-text">{{variableObject.numberOfCorrelations}}</span>
                </label>
                <label class="item item-content" ng-if="variableObject.numberOfUniqueDailyValues">
                    <span class="input-label left-text"># of unique daily values</span>
                    <span class="input-label right-text">{{variableObject.numberOfUniqueDailyValues}}</span>
                </label>
                <label class="item item-content" ng-if="variableObject.mean">
                    <span class="input-label left-text">Mean</span>
                    <span class="input-label right-text">{{variableObject.mean}} {{variableObject.defaultUnitAbbreviatedName}}</span>
                </label>
                <label class="item item-content" ng-if="variableObject.median">
                    <span class="input-label left-text">Median</span>
                    <span class="input-label right-text">{{variableObject.median}} {{variableObject.defaultUnitAbbreviatedName}}</span>
                </label>
                <label class="item item-content" ng-if="variableObject.mostCommonValue">
                    <span class="input-label left-text">Most common value</span>
                    <span class="input-label right-text">{{variableObject.mostCommonValue}} {{variableObject.defaultUnitAbbreviatedName}}</span>
                </label>
                <label class="item item-content" ng-if="variableObject.standardDeviation">
                    <span class="input-label left-text">Standard deviation</span>
                    <span class="input-label right-text">{{variableObject.standardDeviation}}</span>
                </label>
                <label class="item item-content" ng-if="variableObject.variance">
                    <span class="input-label left-text">Variance</span>
                    <span class="input-label right-text">{{variableObject.variance}}</span>
                </label>
                <label class="item item-content" ng-if="variableObject.skewness">
                    <span class="input-label left-text">Skewness</span>
                    <span class="input-label right-text">{{variableObject.skewness}}</span>
                </label>
                <label class="item item-content" ng-if="variableObject.kurtosis">
                    <span class="input-label left-text">Kurtosis</span>
                    <span class="input-label right-text">{{variableObject.kurtosis}}</span>
                </label>
            </div>
            <div class="list card" ng-click="recordMeasurementButtonClick()">
                <a id="recordMeasurementButton" class="item item-icon-left"> <i class="icon ion-plus positive"></i> Record Measurement </a>
            </div>
            <div class="list card" ng-click="addNewReminderButtonClick()">
                <a id="addReminderButton" class="item item-icon-left"> <i class="icon ion-plus positive"></i> Add Reminder </a>
            </div>
            <div class="list card" ng-click="editSettingsButtonClick()">
                <a class="item item-icon-left"> <!--Find better icon in blue--> <i class="icon ion-settings positive"></i> Analysis Settings </a>
            </div>
        </div>
    </ion-content>
    <div ng-include="'templates/fragments/floating-material-action-button-fragment.html'"></div>
</ion-view>